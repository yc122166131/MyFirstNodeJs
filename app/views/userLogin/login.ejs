<%-layout('layout/layout')%>  <!--根据views目录开始找-->
<div class="container">
  <div class="row">
    <div class="col-md-8">
      <div class="panel">
        <div class="header" >
          <ul class="breadcrumb">
            <li><a href="#">首页<span class="divider"></span></a></li>
            <li><a href="#">注册</a></li>
          </ul>
        </div>

        <div class="inner">
            <% if(typeof(success)!='undefined'&&success){%>
            <div class="alert alert-success alert-dismissable" id="successFlag">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <%=success%>
            </div>
            <%}%>
            <% if(typeof(error)!='undefined'&&error){%>
            <div class="alert alert-danger alert-dismissable" id="errorFlag">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                <%=error%>
            </div>
            <%}%>

            <form class="form-horizontal" role="form" id="signup_form" action="/login/signup" method="post">
            <div class="form-group">
              <label for="loginname" class="col-sm-2 control-label">用户名</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" id="loginname" name="loginname"
                       placeholder="请输入用户名......" autocomplete="off">
              </div>
            </div>
            <div class="form-group">
              <label for="pass" class="col-sm-2 control-label">密码</label>
              <div class="col-sm-9">
                <input type="password" class="form-control" id="pass" name="pass"
                       placeholder="请输入密码......" autocomplete="off">
              </div>
            </div>
            <div class="form-group">
              <label for="confirm_pass" class="col-sm-2 control-label">确认密码</label>
              <div class="col-sm-9">
                <input type="password" class="form-control" id="confirm_pass" name="confirm_pass"
                       placeholder="请再次输入密码......" autocomplete="off">
              </div>
            </div>
            <div class="form-group">
              <label for="email" class="col-sm-2 control-label">电子邮箱</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" id="email" name="email"
                       placeholder="请输入电子邮箱" autocomplete="off">
              </div>
            </div>
            <div class="form-group">
              <div class="col-sm-offset-7 col-sm-2">
<!--
                <input class="btn btn-primary form-control" type="button" value="test" id="aaa"/>
-->
                <input class="btn btn-primary form-control" type="submit" value="提交"/>
              </div>
              <div class="col-sm-2">
                <input class="btn btn-info form-control" type="reset" value="重置"/>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="col-md-4">
     <!-- <%-partial('layout/sideBar')%>-->
    </div>
  </div>


</div>

<script type="text/javascript">

    $(function(){

        //初始化：判断显示的提示信息是否可见，如若可见，让其2秒后自动消失
        if($("#errorFlag").is(":visible")){
            setTimeout(function(){
                $("#errorFlag").fadeOut();
            },2000);
        }
        if($("#successFlag").is(":visible")){
            setTimeout(function(){
                $("#successFlag").fadeOut();
            },2000);
        }

        $("#aaa").click(function(){
            $.ajax({

                type:'post',
                url:'login/ajaxsignupvalidation',
                data:{loginName:$("#loginname").val()},
                success:function(data){
                    if(data){
                        alert(data);
                    }
                },
                error:function(){
                    alert("error");
                }
            });


        });
    })
</script>